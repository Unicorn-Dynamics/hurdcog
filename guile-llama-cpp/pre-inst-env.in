#!/bin/sh
####
#### Copyright 2024 Li-Cheng (Andy) Tai
#### atai@atai.org.

#### This file is part of guile_llama_cpp.

#### guile_llama_cpp is free software: you can redistribute it and/or modify it
#### under the terms of the GNU Lesser General Public License as published by the
#### Free Software Foundation, either version 3 of the License, or (at your
#### option) any later version.

#### guile_llama_cpp is distributed in the hope that it will be useful, but
#### WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
#### or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public
#### License for more details.

#### You should have received a copy of the GNU Lesser General Public License
#### along with guile_llama_cpp. If not, see <https://www.gnu.org/licenses/>.
####

abs_top_srcdir="`cd "@abs_top_srcdir@" > /dev/null; pwd`"
abs_top_builddir="`cd "@abs_top_builddir@" > /dev/null; pwd`"

GUILE_LOAD_COMPILED_PATH="@GUILE_LOAD_COMPILED_PATH@"
GUILE_LOAD_PATH="@GUILE_LOAD_PATH@"

GUILE_LOAD_COMPILED_PATH="$abs_top_builddir${GUILE_LOAD_COMPILED_PATH:+:}$GUILE_LOAD_COMPILED_PATH"
GUILE_LOAD_PATH="$abs_top_builddir:$abs_top_srcdir/scripts:$abs_top_srcdir${GUILE_LOAD_PATH:+:}:$GUILE_LOAD_PATH"

export GUILE_LOAD_COMPILED_PATH GUILE_LOAD_PATH

PATH="$abs_top_srcdir/scripts:$PATH"
export PATH

export LD_LIBRARY_PATH="$abs_top_builddir/src/.libs:$LD_LIBRARY_PATH"    #adding libtool .lib directory to load path
exec "$@"
